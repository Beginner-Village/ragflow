<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯• qiankun ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯¼å‡º</title>
</head>
<body>
    <h1>æµ‹è¯• qiankun ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯¼å‡º</h1>
    <div id="container"></div>
    
    <script>
        console.log('ğŸ” å¼€å§‹æµ‹è¯• qiankun ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯¼å‡º');
        
        // æ¨¡æ‹Ÿ qiankun ç¯å¢ƒ
        window.__POWERED_BY_QIANKUN__ = true;
        
        function testLifecycleExport() {
            const script = document.createElement('script');
            script.src = 'http://localhost:8100/umi.32a9985e.js';
            script.onload = function() {
                console.log('âœ… UMD æ–‡ä»¶åŠ è½½å®Œæˆ');
                
                // æ£€æŸ¥å…¨å±€å˜é‡
                console.log('ğŸ” æ£€æŸ¥å…¨å±€å˜é‡ window.RAGFlow:', window.RAGFlow);
                
                if (window.RAGFlow) {
                    const exports = window.RAGFlow;
                    console.log('ğŸ“‹ RAGFlow å¯¼å‡ºçš„å±æ€§:', Object.keys(exports));
                    
                    // æ£€æŸ¥ç”Ÿå‘½å‘¨æœŸå‡½æ•°
                    const lifecycleFunctions = ['bootstrap', 'mount', 'unmount', 'update'];
                    lifecycleFunctions.forEach(fn => {
                        if (typeof exports[fn] === 'function') {
                            console.log(`âœ… ${fn}: å‡½æ•°å·²æ­£ç¡®å¯¼å‡º`);
                        } else {
                            console.error(`âŒ ${fn}: å‡½æ•°æœªæ‰¾åˆ°æˆ–ç±»å‹é”™è¯¯`, typeof exports[fn]);
                        }
                    });
                    
                    // å°è¯•è°ƒç”¨ bootstrap å‡½æ•°
                    if (typeof exports.bootstrap === 'function') {
                        console.log('ğŸ§ª æµ‹è¯•è°ƒç”¨ bootstrap å‡½æ•°');
                        exports.bootstrap({}).then(() => {
                            console.log('âœ… bootstrap å‡½æ•°è°ƒç”¨æˆåŠŸ');
                        }).catch(err => {
                            console.error('âŒ bootstrap å‡½æ•°è°ƒç”¨å¤±è´¥:', err);
                        });
                    }
                } else {
                    console.error('âŒ å…¨å±€å˜é‡ window.RAGFlow æœªæ‰¾åˆ°');
                }
            };
            
            script.onerror = function() {
                console.error('âŒ UMD æ–‡ä»¶åŠ è½½å¤±è´¥');
            };
            
            document.head.appendChild(script);
        }
        
        // å»¶è¿Ÿæ‰§è¡Œæµ‹è¯•ï¼Œç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½
        setTimeout(testLifecycleExport, 100);
    </script>
</body>
</html> 